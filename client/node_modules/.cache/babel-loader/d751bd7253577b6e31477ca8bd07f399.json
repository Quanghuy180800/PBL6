{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Quang Huy\\\\Desktop\\\\CSHTTT\\\\client\\\\src\\\\components\\\\mainpages\\\\detailProduct\\\\DetailProduct.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { GlobalState } from '../../../GlobalState';\nimport ProductItem from '../utils/productItem/ProductItem';\nimport Slider from \"react-slick\";\nimport 'react-medium-image-zoom/dist/styles.css';\nimport heart from \"../../../img/heart2.svg\";\nimport Axios from 'axios';\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport left from \"../../../img/left.svg\";\nimport gift from '../../../img/gift.jpg';\nimport gift2 from '../../../img/ideas.png';\n\nfunction DetailProduct() {\n  const params = useParams();\n  const state = useContext(GlobalState);\n  const [isAdmin] = state.userAPI.isAdmin;\n  const [products] = state.productsAPI.products;\n  const addwishlist = state.userAPI.addWishList;\n  const addCart = state.userAPI.addCart;\n  const [detailProduct, setDetailProduct] = useState([]);\n  const [carouselImage, setCarouselImage] = useState();\n  const [image, setImage] = useState([]);\n  const {\n    getProducts\n  } = state.productsAPI;\n  useEffect(() => {\n    if (params.id) {\n      products.forEach(product => {\n        if (product._id === params.id) {\n          setDetailProduct(product);\n          setCarouselImage(product.images[0]);\n        }\n      });\n\n      const getimage = async () => {\n        const res = await Axios.get(`/api/getimg/${params.id}`);\n        setImage(res.data.data);\n      };\n\n      getimage();\n    }\n  }, [params.id, products]); //console.log(image)\n  //\n\n  useEffect(() => {\n    getProducts();\n  }, []); //zoom//\n\n  if (detailProduct.length === 0) return null;\n  var settings = {\n    dots: true,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, isAdmin ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fun\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"step\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Product details\"), /*#__PURE__*/React.createElement(Link, {\n    className: \"fun1\",\n    to: \"/product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"funmini\",\n    src: left,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"Return\")))) : '', /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, !carouselImage.url ? \"error\" : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailimg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"mainimg\",\n    id: \"featured\",\n    src: carouselImage.url,\n    alt: \"\",\n    width: \"1000\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 18\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slide-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, image.map((image, index) => /*#__PURE__*/React.createElement(\"img\", {\n    key: index,\n    onClick: () => setCarouselImage(image),\n    className: \"thumbnail\",\n    src: image.url,\n    alt: \"\",\n    width: \"1000\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 29\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }, detailProduct.title)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pricebox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, \"$ \", detailProduct.price), detailProduct.sold === 0 ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, \"Sold: \", detailProduct.sold) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }, \"Out of stock\")), !isAdmin ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pricebtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"cart\",\n    onClick: () => addCart(detailProduct),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }, \"ADD TO BASKET\"), /*#__PURE__*/React.createElement(Link, {\n    className: \"wishlistbtn\",\n    onClick: () => addwishlist(detailProduct),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }, \"   \", /*#__PURE__*/React.createElement(\"img\", {\n    className: \"wsicon\",\n    src: heart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"ws\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 25\n    }\n  }, \"Add to wishlist\"))) : ''), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"descriptionproduct\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 21\n    }\n  }, \"Description: \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 21\n    }\n  }, detailProduct.description)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"descriptionproduct\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 21\n    }\n  }, \"Specifications: \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dpdata\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }, \"dimensions\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }, detailProduct.dimensions), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 21\n    }\n  }, \"period\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }\n  }, detailProduct.period), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }\n  }, \"material\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 21\n    }\n  }, detailProduct.material), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 21\n    }\n  }, \"condition\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }, detailProduct.condition))))), !isAdmin ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cmgift\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 25\n    }\n  }, \"custom it to your chirsmas gift \"), /*#__PURE__*/React.createElement(\"img\", {\n    src: gift,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 25\n    }\n  })) : '', !isAdmin ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chirsmast\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: gift2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  })) : '', !isAdmin ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"titledetail2 alone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }\n  }, \"You might also be interested in...\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 17\n    }\n  }, products.map(product => {\n    return product.category === detailProduct.category && product._id !== detailProduct._id ? /*#__PURE__*/React.createElement(ProductItem, {\n      key: product._id,\n      product: product,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 35\n      }\n    }) : null;\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"phonecall\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }\n  }, \"To make an enquiry call \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 40\n    }\n  }, \"+0848071200\")))) : ''); //\n  //zoom effect\n}\n\nexport default DetailProduct;","map":{"version":3,"sources":["C:/Users/Quang Huy/Desktop/CSHTTT/client/src/components/mainpages/detailProduct/DetailProduct.js"],"names":["React","useContext","useState","useEffect","useParams","Link","GlobalState","ProductItem","Slider","Axios","gift","gift2","DetailProduct","params","state","isAdmin","userAPI","products","productsAPI","addwishlist","addWishList","addCart","detailProduct","setDetailProduct","carouselImage","setCarouselImage","image","setImage","getProducts","id","forEach","product","_id","images","getimage","res","get","data","length","settings","dots","infinite","speed","slidesToShow","slidesToScroll","left","url","map","index","title","price","sold","heart","description","dimensions","period","material","condition","category"],"mappings":"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","sourcesContent":["import React, {useContext, useState, useEffect} from 'react'\r\nimport {useParams, Link} from 'react-router-dom'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport ProductItem from '../utils/productItem/ProductItem'\r\nimport Slider from \"react-slick\";\r\nimport 'react-medium-image-zoom/dist/styles.css'\r\nimport heart from '../../../img/heart2.svg'\r\nimport Axios from 'axios'\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport left from '../../../img/left.svg'\r\nimport gift from '../../../img/gift.jpg'\r\nimport gift2 from '../../../img/ideas.png'\r\nfunction DetailProduct() {\r\n    const params = useParams()\r\n   \r\n    const state = useContext(GlobalState)\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [products] = state.productsAPI.products\r\n    const addwishlist = state.userAPI.addWishList\r\n    const addCart = state.userAPI.addCart\r\n    const [detailProduct, setDetailProduct] = useState([])\r\n    const [carouselImage,setCarouselImage] = useState()\r\n    const [image,setImage] = useState([])\r\n    const { getProducts } = state.productsAPI\r\n    useEffect(() =>{\r\n        if(params.id){\r\n\r\n            products.forEach(product => {\r\n                if(product._id === params.id) {\r\n                    setDetailProduct(product) \r\n                    setCarouselImage(product.images[0])\r\n                }\r\n            })\r\n            const getimage = async () => {\r\n                const res = await Axios.get(`/api/getimg/${params.id}`)\r\n                setImage(res.data.data)\r\n            }\r\n            getimage()\r\n        }\r\n        \r\n       \r\n    },[params.id, products])\r\n    \r\n\r\n    //console.log(image)\r\n    //\r\n    useEffect(() => {\r\n        getProducts()\r\n    },[])\r\n\r\n    //zoom//\r\n\r\n\r\n    if(detailProduct.length === 0) return null;\r\n\r\n    var settings = {\r\n        dots: true,\r\n        infinite: true,\r\n        speed: 500,\r\n        slidesToShow: 1,\r\n        slidesToScroll: 1\r\n      };\r\n\r\n    return (\r\n        <>\r\n       \r\n                    \r\n\r\n        {\r\n            isAdmin ?\r\n            <>\r\n            <div className=\"fun\">\r\n        <h1 className=\"step\">Product details</h1>\r\n        <Link  className=\"fun1\" to=\"/product\">\r\n            <img className=\"funmini\" src={left}/>\r\n            <p>Return</p></Link>\r\n        </div>\r\n            </>\r\n            :\r\n            ''\r\n        }\r\n            <div className=\"detail\">\r\n               { !carouselImage.url ? \"error\" : <div className=\"detailimg\">\r\n                \r\n                \r\n                 <img className=\"mainimg\" id=\"featured\" src={carouselImage.url} alt=\"\" width=\"1000\" />\r\n\r\n                  <div className=\"slide-wrapper\">\r\n                 \r\n                    <div className=\"slider\">\r\n                      {\r\n                          image.map((image,index) => (\r\n                            <img key={index} onClick={() => setCarouselImage(image)} className=\"thumbnail\" src={image.url} alt=\"\" width=\"1000\" />\r\n                          ))\r\n                      }\r\n                    </div> \r\n                    \r\n                  </div>  \r\n                \r\n                \r\n                    \r\n                    \r\n                    \r\n\r\n                \r\n                </div>}\r\n                \r\n              \r\n                \r\n                \r\n                <div className=\"box-detail\">\r\n                    <div className=\"row\">\r\n                        <h2>{detailProduct.title}</h2> \r\n                    </div>\r\n                    <div className=\"row\">\r\n                    <div className=\"pricebox\">\r\n                    <span>$ {detailProduct.price}</span>\r\n                    {\r\n                       detailProduct.sold === 0 ? \r\n                    <p>Sold: {detailProduct.sold}</p>\r\n                    :   <p>\r\n                            Out of stock\r\n                        </p>\r\n                    }\r\n                    \r\n                    </div>\r\n                    {\r\n                       !isAdmin ? \r\n                    <div className=\"pricebtn\">\r\n                    <Link  className=\"cart\"\r\n                    onClick={() => addCart(detailProduct)}>\r\n                        ADD TO BASKET\r\n                    </Link>\r\n                    <Link className=\"wishlistbtn\"\r\n                    onClick={() => addwishlist(detailProduct)}\r\n                    >   <img className=\"wsicon\" src={heart}/>\r\n                        <p className=\"ws\">Add to wishlist</p></Link>\r\n                    </div>\r\n                    :\r\n                    ''\r\n                    }\r\n                    </div>\r\n                    <div className=\"descriptionproduct\">\r\n                    <p className=\"title\">Description: </p>\r\n                    <p>{detailProduct.description}</p>\r\n                    </div>\r\n                    <div className=\"descriptionproduct\">\r\n                    <p className=\"title\">Specifications: </p>\r\n                    <div className=\"dpdata\">\r\n                    <span>dimensions</span>\r\n                    <p>{detailProduct.dimensions}</p>\r\n                    <span>period</span>\r\n                    <p>{detailProduct.period}</p>\r\n                    <span>material</span>\r\n                    <p>{detailProduct.material}</p>\r\n                    <span>condition</span>\r\n                    <p>{detailProduct.condition}</p>\r\n                    </div>\r\n                    </div>\r\n                    \r\n                    \r\n                </div>\r\n            </div>\r\n\r\n             {   \r\n             !isAdmin ?    \r\n            <div className=\"cmgift\">\r\n                        <p>custom it to your chirsmas gift </p>\r\n                        <img src={gift}></img>\r\n             </div>\r\n             : ''\r\n            }\r\n\r\n             {\r\n            !isAdmin ?\r\n        <div className=\"chirsmast\">\r\n            <img src={gift2}/>\r\n        </div>\r\n        :''\r\n        }\r\n            \r\n            { !isAdmin ?\r\n            <>\r\n\r\n\r\n            <div>\r\n\r\n        \r\n            <h1 className=\"titledetail2 alone\">\r\n                You might also be interested in...\r\n            </h1>\r\n            \r\n                <div className=\"products\">\r\n                    {\r\n                        \r\n                        products.map(product => {\r\n                            return product.category === detailProduct.category && product._id !== detailProduct._id\r\n                                ? <ProductItem key={product._id} product={product} /> : null\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"phonecall\">\r\n            <p>To make an enquiry call <span>+0848071200</span></p>\r\n        </div>\r\n        </>\r\n        :\r\n        ''\r\n        }\r\n        </>\r\n    )\r\n\r\n    //\r\n    //zoom effect\r\n     \r\n\r\n    }\r\n\r\nexport default DetailProduct\r\n"]},"metadata":{},"sourceType":"module"}