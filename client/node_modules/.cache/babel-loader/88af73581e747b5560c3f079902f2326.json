{"ast":null,"code":"var _jsxFileName = \"/home/phuocnghia712/Desktop/CSHTTT/client/src/components/mainpages/Wishlist/wishlist.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport { GlobalState } from '../../../GlobalState';\nimport axios from 'axios';\nimport { render } from 'react-dom';\n\nfunction Wlist() {\n  const state = useContext(GlobalState);\n  const [wishlist, setWishlist] = state.userAPI.wishlist;\n  const [token] = state.token; //add to wishlist\n\n  const addToWishlist = async wishlist => {\n    //\n    await axios.patch('/user/addwishlist', {\n      wishlist\n    }, {\n      headers: {\n        Authorization: token\n      }\n    });\n  }; //\n\n\n  const removeProduct = id => {\n    if (window.confirm(\"Remove from your wish list?\")) {\n      wishlist.forEach((item, index) => {\n        if (item._id === id) {\n          wishlist.splice(index, 1);\n        }\n      });\n      setWishlist([...wishlist]);\n      addToWishlist(wishlist);\n    }\n  };\n\n  if (wishlist.length === 0) return /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      textAlign: \"center\",\n      fontSize: \"5rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }, \"Wishlist Empty\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, wishlist.map(product => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detail cart\",\n    key: product._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: product.images.url,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 29\n    }\n  }, product.title), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 29\n    }\n  }, \"$ \", product.price * product.quantity), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 29\n    }\n  }, product.description), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 29\n    }\n  }, product.content), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 33\n    }\n  }, product.quantity)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"delete\",\n    onClick: () => removeProduct(product._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 29\n    }\n  }, \"X\")))));\n}\n\nexport default Wlist;","map":{"version":3,"sources":["/home/phuocnghia712/Desktop/CSHTTT/client/src/components/mainpages/Wishlist/wishlist.js"],"names":["React","useContext","useState","useEffect","GlobalState","axios","render","Wlist","state","wishlist","setWishlist","userAPI","token","addToWishlist","patch","headers","Authorization","removeProduct","id","window","confirm","forEach","item","index","_id","splice","length","textAlign","fontSize","map","product","images","url","title","price","quantity","description","content"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,QAA3B,EAAqCC,SAArC,QAAqD,OAArD;AACA,SAAQC,WAAR,QAA0B,sBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,WAAvB;;AAEA,SAASC,KAAT,GAAiB;AACb,QAAMC,KAAK,GAAGP,UAAU,CAACG,WAAD,CAAxB;AACA,QAAM,CAACK,QAAD,EAAWC,WAAX,IAA0BF,KAAK,CAACG,OAAN,CAAcF,QAA9C;AACA,QAAM,CAACG,KAAD,IAAUJ,KAAK,CAACI,KAAtB,CAHa,CAMb;;AACA,QAAMC,aAAa,GAAG,MAAMJ,QAAN,IAAmB;AACrC;AACA,UAAMJ,KAAK,CAACS,KAAN,CAAY,mBAAZ,EAAiC;AAACL,MAAAA;AAAD,KAAjC,EAA6C;AAC/CM,MAAAA,OAAO,EAAE;AAACC,QAAAA,aAAa,EAAEJ;AAAhB;AADsC,KAA7C,CAAN;AAGH,GALD,CAPa,CAab;;;AACA,QAAMK,aAAa,GAAGC,EAAE,IAAG;AACvB,QAAGC,MAAM,CAACC,OAAP,CAAe,6BAAf,CAAH,EAAiD;AAC7CX,MAAAA,QAAQ,CAACY,OAAT,CAAiB,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC9B,YAAGD,IAAI,CAACE,GAAL,KAAaN,EAAhB,EAAmB;AACfT,UAAAA,QAAQ,CAACgB,MAAT,CAAgBF,KAAhB,EAAuB,CAAvB;AACH;AACJ,OAJD;AAMAb,MAAAA,WAAW,CAAC,CAAC,GAAGD,QAAJ,CAAD,CAAX;AACAI,MAAAA,aAAa,CAACJ,QAAD,CAAb;AACH;AAAC,GAVN;;AAYI,MAAGA,QAAQ,CAACiB,MAAT,KAAoB,CAAvB,EACA,oBAAQ;AAAI,IAAA,KAAK,EAAE;AAACC,MAAAA,SAAS,EAAE,QAAZ;AAAsBC,MAAAA,QAAQ,EAAE;AAAhC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAR;AAEC,sBACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQnB,QAAQ,CAACoB,GAAT,CAAaC,OAAO,iBAChB;AAAK,IAAA,SAAS,EAAC,aAAf;AAA6B,IAAA,GAAG,EAAEA,OAAO,CAACN,GAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,GAAG,EAAEM,OAAO,CAACC,MAAR,CAAeC,GAAzB;AAA8B,IAAA,GAAG,EAAC,EAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAGI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKF,OAAO,CAACG,KAAb,CADJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAOH,OAAO,CAACI,KAAR,GAAgBJ,OAAO,CAACK,QAA/B,CAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIL,OAAO,CAACM,WAAZ,CAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIN,OAAO,CAACO,OAAZ,CALJ,eAOI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOP,OAAO,CAACK,QAAf,CAFJ,CAPJ,eAaI;AAAK,IAAA,SAAS,EAAC,QAAf;AACA,IAAA,OAAO,EAAE,MAAMlB,aAAa,CAACa,OAAO,CAACN,GAAT,CAD5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAbJ,CAHJ,CADJ,CAFR,CADC;AAiCR;;AAED,eAAejB,KAAf","sourcesContent":["import React, {useContext, useState, useEffect} from 'react'\nimport {GlobalState} from '../../../GlobalState'\nimport axios from 'axios'\nimport { render } from 'react-dom'\n\nfunction Wlist() {\n    const state = useContext(GlobalState)\n    const [wishlist, setWishlist] = state.userAPI.wishlist\n    const [token] = state.token\n    \n\n    //add to wishlist\n    const addToWishlist = async(wishlist) => {\n        //\n        await axios.patch('/user/addwishlist', {wishlist}, {\n            headers: {Authorization: token}\n        })\n    }\n    //\n    const removeProduct = id =>{\n        if(window.confirm(\"Remove from your wish list?\")){\n            wishlist.forEach((item, index) => {\n                if(item._id === id){\n                    wishlist.splice(index, 1)\n                }\n            })\n\n            setWishlist([...wishlist])\n            addToWishlist(wishlist)\n        }}\n        \n        if(wishlist.length === 0) \n        return (<h2 style={{textAlign: \"center\", fontSize: \"5rem\"}}>Wishlist Empty</h2> )\n\n         return (\n        <div>\n            {\n                wishlist.map(product => (\n                    <div className=\"detail cart\" key={product._id}>\n                        <img src={product.images.url} alt=\"\" />\n\n                        <div className=\"box-detail\">\n                            <h2>{product.title}</h2>\n\n                            <h3>$ {product.price * product.quantity}</h3>\n                            <p>{product.description}</p>\n                            <p>{product.content}</p>\n\n                            <div className=\"amount\">\n                                \n                                <span>{product.quantity}</span>\n                               \n                            </div>\n                            \n                            <div className=\"delete\" \n                            onClick={() => removeProduct(product._id)}>\n                                X\n                            </div>\n                        </div>\n                    </div>\n                ))\n            }\n\n         \n        </div>\n    )\n    \n}\n\nexport default Wlist"]},"metadata":{},"sourceType":"module"}